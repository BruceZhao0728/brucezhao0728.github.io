<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="description" content="Blog Detail">
    <title>Blog Post - Zichen's Website</title>
    <link rel="icon" type="image/webp" href="img/index/avatar.webp">
    <!-- 先加载 highlight.js 的 CSS，再加载自定义 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github-dark.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            },
            chtml: {
                linebreaks: {
                    automatic: true,
                    width: '90vw'
                },
                scale: 1,
                minScaleAdjust: 70
            },
            svg: {
                linebreaks: {
                    automatic: true,
                    width: '90vw'
                },
                scale: 1,
                minScaleAdjust: 70
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                renderActions: {
                    addMenu: []
                }
            }
        };
    </script>
</head>
<body>
    <!-- 导航栏占位符 -->
    <div id="navbar-placeholder"></div>

    <!-- 主内容 -->
    <main class="main-content">
        <div class="container">
            <div class="blog-detail">
                <div id="blog-detail">
                    <!-- Blog content will be loaded dynamically via JavaScript -->
                    <div class="text-center">
                        <div class="loading"></div>
                        <p id="blog-loading-text">Loading blog content...</p>
                    </div>
                </div>
                
                <!-- Back Button -->
                <div class="section">
                    <a href="blog.html" class="btn btn-outline" id="back-to-blog">← Back to Blog</a>
                </div>
            </div>
        </div>
    </main>

    <!-- 页脚占位符 -->
    <div id="footer-placeholder"></div>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="js/language.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/highlight.min.js"></script>
    <script>
        // 验证 highlight.js 已加载
        if (window.hljs) {
            console.log('✓ highlight.js 已加载');
            console.log('支持的语言:', window.hljs.listLanguages().join(', '));
        } else {
            console.error('✗ highlight.js 未加载');
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="js/components.js"></script>
    <script src="js/main.js"></script>
    <script>
        // 更新博客详情页面的国际化文本
        function updateBlogDetailLanguage() {
            const loadingEl = document.getElementById('blog-loading-text');
            if (loadingEl) {
                loadingEl.textContent = 'Loading...';
            }
            const backBtn = document.getElementById('back-to-blog');
            if (backBtn) {
                backBtn.textContent = translateBlog('backToBlog');
            }
        }
        
        // 延迟调用，确保 setupNavbarLanguageSelector 被执行
        window.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                updateBlogDetailLanguage();
                setupNavbarLanguageSelector();
                loadBlogDetail();
            }, 100);
        });
    </script>
</body>
</html>
